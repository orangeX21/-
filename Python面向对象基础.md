<center><b>Python面向对象基础</b></center>

# 面向对象编程思想

**什么是编程思想**

---

编程思想，就是**人们利用计算机来解决实际问题的一种思维方式**，常见的编程思想有面向过程和面向对象，很多计算机语言的语法各不相同，但是它们基本的编程思想却是差不多的，而**Python是同时支持面向对象和面向过程的编程语言！**

----

**面向过程的编程思想**

---

传统的面向过程的编程思想总结起来就八个字——**自顶向下，逐步细化！**

> 1. 将要实现的功能描述为一个从开始到结束按部就班的连续的“步骤”
> 2. 依次逐步完成这些步骤，如果某一个步骤的难度较大，又可以将该步骤再次细化为若干个子步骤，
> 3. 以此类推，一直到结尾并得到我们想要的结果

程序的主体是函数，一个函数就是一个封装起来的模块，可以实现特定的功能，程序的各个子步骤也往往就是通过相关的函数来完成的！从而实现代码的重用与模块化编程

举个栗子：大家以来传智教育报名学习这件事情，可以分成哪些步骤？开始 → 学员**提出**报名，**提供**相关材料 → 学生**缴纳**学费，**获得**缴费凭证 → 教师凭借学生缴费凭证进行**分配**班级 → 班级**增加学生信息 → 结束所谓的面向过程，就是将上面分析好了的步骤，依次执行就行了！

所谓的面向对象，就是在编程的时候尽可能的去模拟现实世界！

在现实世界中，任何一个操作或者业务逻辑的实现都需要一个实体来完成！实体就是动作的支配者，没有实体，也就没有动作发生！

思考：上面的整个报名过程，都有哪些动词？

**提出、提供、缴纳、获得、分配、增加**

有动词就一定有实现这个动作的实体！

模拟现实世界，就是使计算机的编程语言在解决相关业务逻辑的时候，与真实的业务逻辑的发生保持一致，需要使任何一个动作的发生都存在一个支配给该动作的一个实体（主体），因为在现实世界中，任何一个功能的实现都可以看做是一个一个的实体在发挥其各自的“功能”（能力）并在内部进行协调有序的调用过程！

> 第一步：分析哪些动作是由哪些实体发出的
>
> **学生**提出报名
>
> **学生**提供相关资料
>
> **学生**缴费
>
> **机构**收费
>
> **教师**分配教室
>
> **班级**增加学生信息 

于是，在整个过程中，一共有四个实体：**学生、机构、教师、班级**！在现实中的一个具体的实体，就是计算机编程中的一个对象！

> 第二步：定义这些实体，为其增加相应的属性和功能。
>
> **属性**就是实体固有的某些特征特性信息，在面向对象的术语中，属性就是以前的变量。
>
> 
>
> 比如
>
> 一个人的属性有：**身高、体重、三围、姓名、年龄、学历、电话、籍贯、毕业院校等**
>
> 一个手机的属性有：**价格、品牌、操作系统、颜色、尺寸等**

**功能**就是就是实体可以完成的动作，在面向对象的术语中，功能就是封装成了函数或方法

**面向对象实现报名案例**

![image-20221114190028298](C:\Users\29248\AppData\Roaming\Typora\typora-user-images\image-20221114190028298.png) 

* 第三步：让实体去执行相应的功能或动作

学生**提出报名**

学生**提供相关资料**

教师**登记学生信息**

学生**缴费**

机构**收费**

教师**分配教室**

班级**增加学生信息**

**面向过程向面向对象思想迁移**

以前写代码，首先想到的是需要实现什么功能——调用系统函数，或者自己自定义函数，然后按部就班的执行就行了！

以后写代码，首先想到的是应该由什么样的主体去实现什么样的功能，再把该主体的属性和功能统一的进行封装，最后才去实现各个实体的功能。



注意：**面向对象并不是一种技术，而是一种思想，是一种解决问题的最基本的思维方式！ **



所以，面向对象的核心思想是：**不仅仅是简单的将功能进行封装（封装成函数），更是对调用该功能的主体进行封装，实现某个主体拥有多个功能，在使用的过程中，先得到对应的主体，再使用主体去实现相关的功能！**

![image-20221115172845497](C:\Users\29248\AppData\Roaming\Typora\typora-user-images\image-20221115172845497.png)

# 面向对象基本概念

OOA：面向对象分析

OOD：面向对象设计

OOP：面向对象编程

![image-20221115174128049](C:\Users\29248\AppData\Roaming\Typora\typora-user-images\image-20221115174128049.png)

**对象的概念**

对象，object，现实业务逻辑的一个动作实体就对应着OOP编程中的一个对象！

![image-20221115174218985](C:\Users\29248\AppData\Roaming\Typora\typora-user-images\image-20221115174218985.png)

所以：① 对象使用属性（property）保存数据！② 对象使用方法（method）管理数据！

**类的概念**

对象如何产生？又如何规定对象的属性和方法呢？

答：在Python中，采用类（class）来生产对象，用类来规定对象的属性和方法！也就是说，在Python中，要想得到对象，必须先有类！



为什么要引入类的概念？ 类本来就是对现实世界的一种模拟，在现实生活中，任何一个实体都有一个类别，类就是具有相同或相似属性和动作的一组实体的集合！所以，在Python中，对象是指现实中的一个具体的实体，而既然现实中的实体都有一个类别，所以，OOP中的对象也都应该有一个类！



一个对象的所有应该具有特征特性信息，都是由其所属的类来决定的，但是每个对象又可以具有不同的特征特性信息，比如，我自己（人类）这个对象，名字叫老王，性别男，会写代码，会教书；另一个对象（人类）可能叫张三，性别女，会演戏，会唱歌！

**类的定义**

Python3中类分为：经典类 和 新式类

经典类：不由任意内置类型派生出的类，称之为经典类

```python
class 类名:
    代码
    ......
```

新式类：

```python
class 类名():
    代码
    ......
```

这就是一个类，只不过里面什么都没有！

> 其中，类名不区分大小写，遵守一般的标识符的命名规则（以字母、数字和下划线构成，并且不能以数字开头），一般为了和方法名相区分，类名的首字母一般大写！（大驼峰法）

举个例子：定义"人"类

```python
class Person():
    def eat(self):
        print('我喜欢吃零食')
    def drink(self):
        print('我喜欢喝果汁')
```

**类的实例化（创建对象）**

类的实例化就是通过类得到对象！

类只是对象的一种规范，**类本身基本上什么都做不了，必须利用类得到对象，这个过程就叫作类的实例化！**

基本语法： 对象名 = 类名()

案例：实例化Person类，生成p1对象

```python
class Person():
    def eat(self):
        print('我喜欢吃零食')
    def drink(self):
        print('我喜欢喝果汁')
# 创建对象
p1 = person()
# p1对象调用实例方法
print(p1) //<__main__.Person object at 0x00000259452F7C40>
p1.eat()//我喜欢吃零食
p1.drink()//我喜欢喝果汁
```

**self**

在类中，有一个特殊关键字``self``，其指向类实例化对象本身。

```python
# 1. 定义类
class Person():
    def eat(self):
        print('我喜欢吃零食')
        # <__main__.Person object at 0x1058bced0>
        print(self)//self 


# 2. 创建对象
p1 = Person()
# <__main__.Person object at 0x1058bced0>
print(p1)
p1.eat()

p2 = Person()
# <__main__.Person object at 0x1058bcf50>
print(p2)
```

> 注意：打印对象和self得到的结果是一致的，都是当前对象的内存中存储地址。

# 添加和获取对象属性

**什么是属性**

属性即是特征，**比如：人的姓名、年龄、身高、体重…都是对象的属性。**

对象属性既可以在类外面添加和获取，也能在类里面添加和获取。

**外部添加对象属性**

基本语法：对象名.属性名 = 值

添加和获取对象属性

```python
class person():
    def name():
        print("1223")
        
p1 = person()
p1.name = "xiaojiang"
p1.age = 18
p1.address = "huaibei"

print(f'姓名：{p1.name}')
print(f'年龄：{p1.age}')
print(f'地址：{p1.address}')
//姓名：xiaojiang
//年龄：18
//地址：huaibei
```

**类里面获取对象属性**

`self.属性名`

```python
class Person():
    def print_info(self):
        # 类里面获取实例属性
        print(f'姓名：{self.name}')
        print(f'年龄：{self.age}')
        print(f'地址：{self.address}')

p1 = Person()
p1.name = "xiaojiang"
p1.age = 18
p1.address = "huaibei"
p1.print_info()
```

# 魔术方法

**什么是魔术方法**

在Python中，``__xxx__()``的函数叫做魔法方法，指的是具有特殊功能的函数。

**__****init**__()方法

思考：人的姓名、年龄等信息都是与生俱来的属性，可不可以在生产过程中就赋予这些属性呢？

答：可以，使用``__init__() `方法，其作用：实例化对象时，连带其中的参数，会一并传给__init__函数自动并执行它。``__init__()``函数的参数列表会在开头多出一项，它永远指代新建的那个实例对象，Python语法要求这个参数必须要有，名称为self。

>  ① __init__()方法，在创建一个对象时默认被调用，不需要手动调用

> ② __init__(self)中的self参数，不需要开发者传递，python解释器会自动把当前的对象引用传递过去。

```python
class Person():
    
    # 定义初始化功能的函数
    def __init__(self):
        # 添加实例属性
        self.name = '老王'
        self.age = 18
        self.address = '北京'
	
    def print_info(self):
        # 类里面调用实例属性
        print(f'姓名：{self.name}, 年龄：{self.age}，地址：{self.address}')
        
p1 = Person()
p1.print_info()
```

**带参数的()方法**

虽然我们已经可以通过__init__实现类属性的初始化操作，但是以上案例还存在一个问题，所有实例属性都拥有相同的name、age以及address，这显然是不对的。应该如何解决呢？答：使用带参数的__init__()

![image-20221204105634309](E:\Administrator\Desktop\学习\image-20221204105634309.png)

```python
class Person():
    def __init__(self, name, age,address):
        self.name = name
        self.age = age
        self.address = address
        
    def print_info(self):
        print(f'姓名：{self.name}, 年龄：{self.age}，地址：{self.address}')
        
p1 = Person("laowang", 18, "huaibei")
p1.print_info()
```

**__****str**__()方法

当使用print输出对象的时候，默认打印对象的内存地址。==如果类定义了`__str__`方法，那么就会打印从在这个方法中 return 的数据。==

```python
class Person():
    
    # 定义初始化功能的函数
    def __init__(self, name, age, address):
        # 添加实例属性
        self.name = name
        self.age = age
        self.address = address
	
    def __str__(self):
        """ 返回一个对象的描述信息 """
        return f'姓名：{self.name}，年龄：{self.age}，地址：{self.address}'
    	
        
p1 = Person('老王', 18, '北京')
print(p1)
```

**__del__()**方法

当删除对象时，python解释器也会默认调用__del__()方法。

```python
class Person():
    
    # 定义初始化功能的函数
    def __init__(self, name, age, address):
        # 添加实例属性
        self.name = name
        self.age = age
        self.address = address
    
    def __del__(self):
        print(f'{self}对象已经被删除')
        
p1 = Person('老王', 18, '北京')

# <__main__.Person object at 0x101af8f90>对象已经被删除
del p1
```

